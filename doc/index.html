<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>JPS Documentation</title>
<link rel="stylesheet" type="text/css" href="css/default.css">
<script src="js/jquery-2.0.3.js"></script>
<script>
window.onload = function () {
    // Looks for an element with the class "toc" and appends an empty list
    $('.toc').append('<ul id="toc" class="toc-list"></ul>')
    // find the new list
    var TOC = $('ul#toc');
    $.each($('div.section'), function(k,v) {
        var heading = $(v).find('div.section-title');
        var headingText = $(heading).text();
        var headingID = headingText.replace(/[^a-z0-9]/gi, '_').toLowerCase();
        $(v).attr("id", headingID);
        TOC.append('<li><a class="toc-link" href="#' + headingID +'">' + headingText +  '</a></li>' );
        var subList = '';
        $(this).find('div.module').each(function() {
            if (subList == '') {
                subList = '<li><ul class="toc-sublist">';
            }
            var heading = $(this).find('div.module-name');
            var headingText = $(heading).text();
            var headingID = headingText.replace(/[^a-z0-9]/gi, '_').toLowerCase();
            $(this).attr("id", headingID);
            subList = subList + '<li><a class="toc-link" href="#' + headingID +'">' + headingText +  '</a></li>';
        });
        $(this).find('div.rotation-class').each(function() {
            if (subList == '') {
                subList = '<li><ul class="toc-sublist">';
            }
            var heading = $(this).find('div.rotation-class-title');
            var headingText = $(heading).text();
            var headingID = headingText.replace(/[^a-z0-9]/gi, '_').toLowerCase();
            $(this).attr("id", headingID);
            subList = subList + '<li><a class="toc-link" href="#' + headingID +'">' + headingText +  '</a></li>';
        });
        if (subList != '') {
            subList = subList + '</ul>';
            TOC.append(subList);
        }
    });
  $(".toc").prepend('<div class=\"section-title\">Table of Contents</div>')
}
</script>
</head>
<body>
<div class="title">= JPS - A PLUA ADDON FOR WORLD OF WARCRAFT =</div>

<p>This addon in combination with enabled protected LUA will help you get the most out of your WoW experience. See commands below for a full list of available commands.</p>

<p>Huge HUGE thanks to htordeux, nishikazuhiro, hax mcgee, pcmd and many more for all their contributions to keeping this project going!</p>

<p>*** VERSION 1.3 - Huge updates from PCMD/Htordeux. *** *** All credit for this version to them. ***</p>

<p>This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.</p>

<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>

<p>You should have received a copy of the GNU General Public License along with this program. If not, see http://www.gnu.org/licenses/.</p>

<p>Copyright (C) 2011 James Ganis</p>

<div class="toc"></div>

<div class="section">
<div class="section-title">Usage</div>
With protected LUA enabled (through and external hack, not included with this package) this addon will play on your behalf, detecting your class and spec simply attacking a target will cause the mod to take over. Using all the best spells and abilities with split second timing to ensure maximum DPS, TPS or HPS for your class and spec.
</div>

<div class="section">
<div class="section-title">Commands</div>
<ul class="command-list"> 
  <li><code>/jps enable</code> (or <code>/jps e</code>) Enables JPS</li> 
  <li><code>/jps disable</code> (or <code>/jps d</code>) Disables JPS</li> 
  <li><code>/jps toggle</code> (or <code>/jps t</code>) Toggle whether JPS is enabled or not</li>
  <li><code>/jps multi</code> Toggle support for AOE</li>
  <li><code>/jps cds</code> Use cooldowns in rotations</li>
  <li><code>/jps interrupts</code> (or <code>/jps int</code>) Interrupt spell casting where possible</li>
  <li><code>/jps pew</code> manually start attacking with jps your current target (for ingame macros)</li>
  <li><code>/jps face</code> auto rotate your toon until you face your current target</li>
  <li><code>/jps defensive</code> (or <code>/jps def</code>) toggle defensiv mode (def / heal usage)</li>
  <li><code>/jps pvp</code> toggle pvp mode manually</li>
  <li><code>/jps version</code> prints your current JPS version/revision</li>
  <li><code>/jps db</code> resets ingame addon database</li>
  <li><code>/jps reset</code> resets position of JPS icons / jps UI</li>
  <li><code>/jps debug</code> Enable debug output</li>
  <li><code>/jps help</code> show help</li>
</ul>
</div>
<div class="section">
<div class="section-title">Modules</div>
<div class="module">
<div class="module-name">Static Spell Tables</div>
<div class="module-description">Static Tables hava a significant advantage over old-style rotations - memory usage and to some extend execution time. Instead of creating a new Table every Update Interval the table is only created once and used over and over again. This needs some major modifications to your rotation - you can find all relevant information on Transforming your Rotations in the PG forums.</div>
<div class="module-function" id="parseStaticSpellTable">
<div class="module-function-name">function parseStaticSpellTable(hydraTable)</div>
<div class="module-function-description">Parses a static spell table and returns the spell which should be cast or nil if no spell can be cast. Spell Tables are Tables containing other Tables:<br /> <code> {<br /> &nbsp;&nbsp;&nbsp;&nbsp;...<br /> &nbsp;&nbsp;&nbsp;&nbsp;{[SPELL], [CONDITION], [TARGET]},<br /> &nbsp;&nbsp;&nbsp;&nbsp;{"nested", [CONDITION], [NESTED SPELL TABLE]},<br /> &nbsp;&nbsp;&nbsp;&nbsp;{[MACRO], [CONDITION], [TARGET]},<br /> &nbsp;&nbsp;&nbsp;&nbsp;...<br /> }<br /> </code> e.g:<br /> <code> {<br /> &nbsp;&nbsp;&nbsp;&nbsp;...<br /> &nbsp;&nbsp;&nbsp;&nbsp;{"Greater Heal", 'jps.hp("target") <= 0.5', "target"},<br /> &nbsp;&nbsp;&nbsp;&nbsp;{{"macro", "/cast Flash Heal"}, 'jps.hp("player") < 0.6', "player"},<br /> &nbsp;&nbsp;&nbsp;&nbsp;{"nested", 'jps.MultiTarget', {...}},<br /> &nbsp;&nbsp;&nbsp;&nbsp;...<br /> }<br /> </code><br /> <i>SPELL</i>:<br /> Can either be a spell name or a spell id - id's are preferred since they will work on all client languages! This can also be the keyword <code>"nested"</code> - in this case the third paramter is not the target, but a nested spell table which should be executed if the condition is true.<br /> <br /> <i>MACRO</i>:<br /> Macro is a table (see example) which replaces the spell and has two elements: they keyword <code>"macro"</code> and the macro itself.<br /> <br /> <i>CONDITION</i>:<br /> The condition determines if the spell should be executed - it can either be a boolean value, a function returning a boolean value or a string. The string must contain a valid boolean expression which will then be re-evaluated every update interval. If there is no condition the spell will be used on cooldown<br /> <br /> <i>TARGET</i>:<br /> A WoW unit String or player name - can also be a function which returns this string! If there is no target <code>"target"</code> will be used as a default value.<br /> <br /></div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>hydraTable:</b> static spell table</li>
</ul>
<div class="module-function-section">Returns:</div>
<div class="module-function-returns">Tupel <code>spell,target</code> if a spell should be cast, else <code>nil</code></div>
</div>
<div class="module-function" id="parseStaticRaidTable">
<div class="module-function-name">function parseStaticRaidTable(hydraTable)</div>
<div class="module-function-description">Parses a spellTable from a jps raid encounter. (jpraid.data.lua) <br /> <strong>Spell</strong><br> spell is the encounter spellname<br> <strong>Condition</strong><br> conditions are either functions or booleans, similar like in normal spelltables but without macros or nested tables. The conditions could be like<br> <code>jps.raid.getTimer("Quills") < 2</code><br> <strong>SpellType</strong><br> spellType is the type of a "counter-ability" jps raid should execute to prevent incoming damage. (runSpeed, physicalDmgReduce etc.) Defined in jpraid.data.lua (jps.raid.supportedAbilities)</div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>hydraTable:</b> static spell table from jpraid.data.lua (jps.raid.supportedEncounters)</li>
</ul>
<div class="module-function-section">Returns:</div>
<div class="module-function-returns">Tupel <code>spell,spellType</code> if a spell should be cast, else <code>nil</code></div>
</div>
<div class="module-function" id="jps.cachedValue">
<div class="module-function-name">function jps.cachedValue(fn, updateInterval)</div>
<div class="module-function-description">This function generates a function which will store a value which might be too expensive to generate everytime. You must provide a function which generates the value which will be called every <code>updateInterval</code> seconds to refresh the cached value.</div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>fn:</b> function which generates the value</li>
  <li class="module-function-parameter"><b>updateInterval:</b> <i>Optional:</i> max age in seconds before the value is fetched again from the function - defaults to <code>jps.UpdateInterval</code></li>
</ul>
<div class="module-function-section">Returns:</div>
<div class="module-function-returns">A function which will return the cached value</div>
</div>
</div>
<div class="module">
<div class="module-name">Rotation Registry</div>
<div class="module-description">Rotations are stored in a central registry - each class/spec combination can have multiple Rotations. Most of the rotations are registered on load, but you can also (un)register Rotations during runtime. You could even outsource your rotations to a separate addon if you want to.</div>
<div class="module-function" id="jps.registerRotation">
<div class="module-function-name">function jps.registerRotation(class, spec, fn, tooltip, pve, pvp, config)</div>
<div class="module-function-description">Registers the given Rotation. If you register more than one Rotation per Class/Spec you will get a Drop-Down Menu where you can choose your Rotation.</div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>class:</b> Uppercase english classname or <a href="http://www.wowpedia.org/ClassId">Class ID</a></li>
  <li class="module-function-parameter"><b>spec:</b> Uppercase english spec name (no abbreviations!) or spec id</li>
  <li class="module-function-parameter"><b>fn:</b> Rotation function</li>
  <li class="module-function-parameter"><b>tooltip:</b> Unique Name for this Rotation</li>
  <li class="module-function-parameter"><b>pve:</b> <i>Optional:</i> <code>True</code> if this should be registered as PvE rotation else <code>False</code> - defaults to <code>True</code></li>
  <li class="module-function-parameter"><b>pvp:</b> <i>Optional:</i> <code>True</code> if this should be registered as PvP rotation else <code>False</code> - defaults to <code>True</code></li>
  <li class="module-function-parameter"><b>config:</b> <i>Optional:</i> Key/Value Pair Table which contains Config which can be used in your rotation #see:jps.getRotationValue - defaults to <code>{}</code></li>
</ul>
</div>
<div class="module-function" id="jps.unregisterRotation">
<div class="module-function-name">function jps.unregisterRotation(class, spec, tooltip, pve, pvp)</div>
<div class="module-function-description">Unregister the Rotation with the given tooltip. You can choose to only unregister the rotation for PvE or PvP.</div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>class:</b> Uppercase english classname or <a href="http://www.wowpedia.org/ClassId">Class ID</a></li>
  <li class="module-function-parameter"><b>spec:</b> Uppercase english spec name (no abbreviations!) or spec id</li>
  <li class="module-function-parameter"><b>tooltip:</b> Name of the Rotation to unregister</li>
  <li class="module-function-parameter"><b>pve:</b> <i>Optional:</i> <code>True</code> if this should only be unregistered from the PvE rotations else <code>False</code> - defaults to <code>True</code></li>
  <li class="module-function-parameter"><b>pvp:</b> <i>Optional:</i> <code>True</code> if this should only be unregistered from the PvP rotations else <code>False</code> - defaults to <code>True</code></li>
</ul>
</div>
<div class="module-function" id="jps.registerStaticTable">
<div class="module-function-name">function jps.registerStaticTable(class, spec, spellTabel, tooltip, pve, pvp, config)</div>
<div class="module-function-description">Short-hand function for registering static spell tables which usually only have a function with <code>return parseStaticSpellTable(spellTable)</code>. For mor info look at #see:jps.registerRotation.</div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>class:</b> Uppercase english classname or <a href="http://www.wowpedia.org/ClassId">Class ID</a></li>
  <li class="module-function-parameter"><b>spec:</b> Uppercase english spec name (no abbreviations!) or spec id</li>
  <li class="module-function-parameter"><b>spellTabel:</b> static spell table</li>
  <li class="module-function-parameter"><b>tooltip:</b> Unique Name for this Rotation</li>
  <li class="module-function-parameter"><b>pve:</b> <i>Optional:</i> <code>True</code> if this should be registered as PvE rotation else <code>False</code> - defaults to <code>True</code></li>
  <li class="module-function-parameter"><b>pvp:</b> <i>Optional:</i> <code>True</code> if this should be registered as PvP rotation else <code>False</code> - defaults to <code>True</code></li>
  <li class="module-function-parameter"><b>config:</b> <i>Optional:</i> Key/Value Pair Table which contains Config which can be used in your rotation #see:jps.getRotationValue - defaults to <code>{}</code></li>
</ul>
</div>
<div class="module-function" id="jps.getRotationValue">
<div class="module-function-name">function jps.getRotationValue(key)</div>
<div class="module-function-description">If you supplied your rotation with a config table, you can access it's values with this function.</div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>key:</b> Key for the config table</li>
</ul>
<div class="module-function-section">Returns:</div>
<div class="module-function-returns">Config value for the given key</div>
</div>
</div>
<div class="module">
<div class="module-name">DoT Tracker</div>
<div class="module-description">DoT Tracker for DoT-Classes. Currently only Destruction-Warlocks and Affliction-Warlocks are supported. <br /><br /> The DoT Tracker will track your DoT's on all valid units (<code>target</code>, <code>focus</code>, <code>mouseover</code> and <code>boss1-4</code>) and will tell you when to recast the spell. If it is pandemic safe and you don't loose DPS your DoT's will always be re-applied. If it is not pandemic safe the DoT will only be re-applied if you gain at least 225K DPS - based on 150K average DPS this should compensate for the lost GCD. If you don't have the DoT on the target or there is only 2 seconds left it will be applied ignoring any DPS difference. <br /><br /> The DoT Tracker can be used with normal tables (<a href="#jps.dotTracker.castTable" class="ref">jps.dotTracker.castTable</a>) but since normal tables are deprecated you should instead convert your rotation to a static spell table and use the appropriate function (<a href="#jps.dotTracker.castTableStatic" class="ref">jps.dotTracker.castTableStatic</a>).</div>
<div class="module-function" id="jps.dotTracker.castTableStatic">
<div class="module-function-name">function jps.dotTracker.castTableStatic(spellID, unit)</div>
<div class="module-function-description">Generates a static Spell Table Function for the given DoT for old-style Spell Tables.<br /> The DoT Tracker will track your DoT's on all valid units (<code>target</code>, <code>focus</code>, <code>mouseover</code> and <code>boss1-4</code>) and will tell you when to recast the spell. If it is pandemic safe and you don't loose DPS your DoT's will always be re-applied. If it is not pandemic safe the DoT will only be re-applied if you gain at least 225K DPS - based on 150K average DPS this should compensate for the lost GCD. If you don't have the DoT on the target or there is only 2 seconds left it will be applied ignoring any DPS difference.<br /> <br /><i>Usage:</i><br /> <code> local staticSpellTable = {<br /> ...<br /> jps.dotTracker.castTable("Immolate"),<br /> ...<br /> }<br /> </code></div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>spellID:</b> Spell-ID to cast, can be a spell name, a spell id</li>
  <li class="module-function-parameter"><b>unit:</b> <i>Optional:</i> Unit to cast upon, if <code>nil</code> all of <code>target</code>, <code>focus</code>, <code>mouseover</code> and <code>boss1-4</code> will be tried in this order</li>
</ul>
<div class="module-function-section">Returns:</div>
<div class="module-function-returns">Spell-Table Function for static Spell Tables</div>
</div>
<div class="module-function" id="jps.dotTracker.castTable">
<div class="module-function-name">function jps.dotTracker.castTable(spellID, unit)</div>
<div class="module-function-description"><i>This function is DEPRECATED! Use: <a href="#jps.dotTracker.castTableStatic" class="ref">jps.dotTracker.castTableStatic</a></i><br /><br />Generates a Spell Table Element for the given DoT for old-style Spell Tables.<br /> The DoT Tracker will track your DoT's on all valid units (<code>target</code>, <code>focus</code>, <code>mouseover</code> and <code>boss1-4</code>) and will tell you when to recast the spell. If it is pandemic safe and you don't loose DPS your DoT's will always be re-applied. If it is not pandemic safe the DoT will only be re-applied if you gain at least 225K DPS - based on 150K average DPS this should compensate for the lost GCD. If you don't have the DoT on the target or there is only 2 seconds left it will be applied ignoring any DPS difference.<br /> <br /><i>Usage:</i><br /> <code> local spellTable = {<br /> ...<br /> jps.dotTracker.castTable("Immolate"),<br /> ...<br /> }<br /> </code></div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>spellID:</b> Spell-ID to cast, can be a spell name, a spell id</li>
  <li class="module-function-parameter"><b>unit:</b> <i>Optional:</i> Unit to cast upon, if <code>nil</code> all of <code>target</code>, <code>focus</code>, <code>mouseover</code> and <code>boss1-4</code> will be tried in this order</li>
</ul>
<div class="module-function-section">Returns:</div>
<div class="module-function-returns">Spell-Table Element, e.g.: <code>{"Immolate", false, "mouseover"}</code></div>
</div>
</div>
</div>
<div class="section">
<div class="section-title">Advanced Functionality</div>
<div class="module">
<div class="module-name">Logging</div>
<div class="module-description">This module provides a Logger instance which can be initialized with a Log-Level (<code>jps.LogLevel.DEBUG</code>,<code>jps.LogLevel.INFO</code>,<code>jps.LogLevel.WARN</code>,<code>jps.LogLevel.ERROR</code> or <code>jps.LogLevel.NONE</code>). All calls to it's logging functions will then either be ignored or printed with Log Level and the calling file/line number. A limited number of varargs are supported, which then are used to as input for the format string.<br /> <br /> Usage in your code:<br /> <code> local LOG=jps.Logger(jps.LogLevel.DEBUG)<br /> LOG.debug("debug message")<br /> LOG.debug("this is a number: %s", 2)<br /> </code></div>
<div class="module-function" id="jps.Logger">
<div class="module-function-name">function jps.Logger(level)</div>
<div class="module-function-description">Creates a Logging instance set to the given Log-Level (<code>jps.LogLevel.DEBUG</code>,<code>jps.LogLevel.INFO</code>,<code>jps.LogLevel.WARN</code>,<code>jps.LogLevel.ERROR</code> or <code>jps.LogLevel.NONE</code>). All calls to it's logging functions will then either be ignored or printed with Log Level and the calling file/line number. A limited number of varargs are supported, which then are used to as input for the format string.<br /> <br /> Usage in your code:<br /> <code> local LOG=jps.Logger(jps.LogLevel.DEBUG)<br /> LOG.debug("debug message")<br /> LOG.debug("this is a number: %s", 2)<br /> </code></div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>level:</b> Log-Level, one of <code>jps.LogLevel.DEBUG</code>,<code>jps.LogLevel.INFO</code>,<code>jps.LogLevel.WARN</code>,<code>jps.LogLevel.ERROR</code> or <code>jps.LogLevel.NONE</code></li>
</ul>
<div class="module-function-section">Returns:</div>
<div class="module-function-returns">Logging instance with <code>debug</code>,<code>info</code>,<code>warn</code> and <code>error</code> methods</div>
</div>
</div>
<div class="module">
<div class="module-name">Events</div>
<div class="module-description">JPS Event Handling. If you need to react to specific events or want to execute a function this module might help you. Instead of creating your own frame and event-handler you can just hook into the JPS main frame and register functions here.<br /> <br /> This module also contains profiling support for the events. If enabled you will get the memory consumption from all events summarized - <i>Attention:</i> This has a serious impact on FPS!</div>
<div class="module-function" id="jps.registerOnUpdate">
<div class="module-function-name">function jps.registerOnUpdate(fn)</div>
<div class="module-function-description">Register OnUpdate Function<br /> Adds the given function to the update table if it wasn't already registered.<br /> <br /><i>Usage:</i><br /> <code> jps.registerOnUpdate(function()<br /> print("Update")<br /> end)<br /> </code></div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>fn:</b> function to be executed on update</li>
</ul>
</div>
<div class="module-function" id="jps.unregisterOnUpdate">
<div class="module-function-name">function jps.unregisterOnUpdate(fn)</div>
<div class="module-function-description">Unregister OnUpdate Function<br /> Removes the given event function from the update table if it was registered earlier. Has no effect if the function wasn't registered.<br /> <br /><i>Usage:</i><br /> <code> function myOnUpdate() ... end<br /> ...<br /> jps.registerOnUpdate(myOnUpdate)<br /> ...<br /> jps.unregisterOnUpdate(myOnUpdate)<br /> </code></div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>fn:</b> function to unregister</li>
</ul>
</div>
<div class="module-function" id="jps.registerEvent">
<div class="module-function-name">function jps.registerEvent(event, fn)</div>
<div class="module-function-description">Adds the given event function to the event table if it wasn't already registered.<br /> <br /><i>Usage:</i><br /> <code> jps.registerEvent("LOOT_OPENED", function()<br /> print("You opened Loot!")<br /> end)<br /> </code></div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>event:</b> event name</li>
  <li class="module-function-parameter"><b>fn:</b> function to be executed on update</li>
</ul>
</div>
<div class="module-function" id="jps.unregisterEvent">
<div class="module-function-name">function jps.unregisterEvent(event, fn)</div>
<div class="module-function-description">Removes the given event function from the event table if it was registered earlier. Has no effect if the function wasn't registered.<br /> <br /><i>Usage:</i><br /> <code> function myLootOpened() ... end<br /> ...<br /> jps.registerEvent("LOOT_OPENED", myLootOpened)<br /> ...<br /> jps.unregisterEvent("LOOT_OPENED", myLootOpened)<br /> </code></div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>event:</b> event name</li>
  <li class="module-function-parameter"><b>fn:</b> function to unregister</li>
</ul>
</div>
<div class="module-function" id="jps.registerCombatLogEventUnfiltered">
<div class="module-function-name">function jps.registerCombatLogEventUnfiltered(event, fn)</div>
<div class="module-function-description">Register event subtype for COMBAT_LOG_EVENT_UNFILTERED - Adds the given event function to the COMBAT_LOG_EVENT_UNFILTERED table if it wasn't already registered.<br /> <br /><i>Usage:</i><br /> <code> jps.registerCombatLogEventUnfiltered("SWING_DAMAGE", function()<br /> print("Swing Damage - yay!")<br /> end)<br /> </code></div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>event:</b> name of the combat sub-event</li>
  <li class="module-function-parameter"><b>fn:</b> function which should be executed on event</li>
</ul>
</div>
<div class="module-function" id="jps.unregisterCombatLogEventUnfiltered">
<div class="module-function-name">function jps.unregisterCombatLogEventUnfiltered(event, fn)</div>
<div class="module-function-description">Removes the given event function from the COMBAT_LOG_EVENT_UNFILTERED table if it was registered earlier. Has no effect if the function wasn't registered.<br /> <br /><i>Usage:</i><br /> <code> function mySwingDamage() ... end<br /> ...<br /> jps.registerCombatLogEventUnfiltered("SWING_DAMAGE", mySwingDamage)<br /> ...<br /> jps.unregisterCombatLogEventUnfiltered("SWING_DAMAGE", mySwingDamage)<br /> </code></div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>event:</b> event name</li>
  <li class="module-function-parameter"><b>fn:</b> function to unregister</li>
</ul>
</div>
<div class="module-function" id="jps.enableProfiling">
<div class="module-function-name">function jps.enableProfiling(unfiltered)</div>
<div class="module-function-description">Enables profiling for one minute. Every 15 seconds you will get the memory consumption from all events summarized - <i>Attention:</i> This has a serious impact on FPS!</div>
<div class="module-function-section">Parameters:</div>
<ul class="module-function-parameters">
  <li class="module-function-parameter"><b>unfiltered:</b> <code>True</code> if COMBAT_LOG_UNFILTERED events should be split up (<i>BIG PERFORMANCE DECREASE</i>) - defaults to <code>False</code></li>
</ul>
</div>
</div>
</div>
<div class="section">
<div class="section-title">Rotations</div>
<div class="rotation-class">
<div class="rotation-class-title warlock">warlock</div>
<div class="rotations-spec">
  <div class="rotation-spec-title warlock_affliction">affliction</div>
<div class="rotation">
<div class="rotation-name">'Affliction 5.3' <i>by Kirk24788</i></div>
<div class="rotation-description">This is a Raid-Rotation, which will do fine on normal mobs, even while leveling but might not be optimal for PvP. <br /> Modifiers:<br /> &bull; <code>CTRL</code>: If target is dead or ghost cast Soulstone<br /> &bull; <code>ALT</code>: Stop all casts and only use instants (useful for Dark Animus Interrupting Jolt)<br /> &bull; <code>jps.Interrupts</code>: Casts from target, focus or mouseover will be interrupted (with FelHunter or Observer only!)<br /> &bull; <code>jps.Defensive</code>: Create Healthstone if necessary and cast mortal coil<br /> &bull; <code>jps.UseCDs</code>: Use short CD's - NO Virmen's Bite, NO Doomguard/Terrorguard etc. - those SHOULDN'T be automated!<br /></div>
</div>
<div class="rotation">
<div class="rotation-name">'Interrupt Only' <i>by Kirk24788</i></div>
<div class="rotation-description">This is Rotation will only take care of Interrupts. <i>Attention:</i> <code>jps.Interrupts</code> still has to be active!</div>
</div>
</div>
<div class="rotations-spec">
  <div class="rotation-spec-title warlock_demonology">demonology</div>
<div class="rotation">
<div class="rotation-name">'Demo Raid (untested)' <i>by Unknown</i></div>
<div class="rotation-description"><i>This Rotation is DEPRECATED! </i><br /><br />Demo Rotation.</div>
</div>
<div class="rotation">
<div class="rotation-name">'Interrupt Only' <i>by Kirk24788</i></div>
<div class="rotation-description">This is Rotation will only take care of Interrupts. <i>Attention:</i> <code>jps.Interrupts</code> still has to be active!</div>
</div>
</div>
<div class="rotations-spec">
  <div class="rotation-spec-title warlock_destruction">destruction</div>
<div class="rotation">
<div class="rotation-name">'Destruction 5.3' <i>by Kirk24788</i> (<a href="http://eu.battle.net/wow/en/tool/talent-calculator#Vb!112101!ZbS" class="talent-url">Talents</a>)</div>
<div class="rotation-description">This is a Raid-Rotation, which will do fine on normal mobs, even while leveling but might not be optimal for PvP. <br /> Modifiers:<br /> &bull; <code>SHIFT</code>: Cast Rain of Fire @ Mouse - <b>ONLY</b> if RoF Duration is less than 1 seconds<br /> &bull; <code>CTRL-SHIFT</code>: Cast Rain of Fire @ Mouse - ignoring the current RoF duration<br /> &bull; <code>CTRL</code>: If target is dead or ghost cast Soulstone, else cast Havoc @ Mouse<br /> &bull; <code>ALT</code>: Stop all casts and only use instants (useful for Dark Animus Interrupting Jolt)<br /> &bull; <code>jps.Interrupts</code>: Casts from target, focus or mouseover will be interrupted (with FelHunter or Observer only!)<br /> &bull; <code>jps.Defensive</code>: Create Healthstone if necessary, cast mortal coil and use ember tap<br /> &bull; <code>jps.UseCDs</code>: Use short CD's - NO Virmen's Bite, NO Doomguard/Terrorguard etc. - those SHOULDN'T be automated!<br /></div>
</div>
<div class="rotation">
<div class="rotation-name">'Interrupt Only' <i>by Kirk24788</i></div>
<div class="rotation-description">This is Rotation will only take care of Interrupts. <i>Attention:</i> <code>jps.Interrupts</code> still has to be active!</div>
</div>
<div class="rotation">
<div class="rotation-name">'Kanrethad Ebonlocke' <i>by Kirk24788</i></div>
<div class="rotation-description">As the name already suggest - this is a special Rotation designed for the green fire questline endboss. It has been tested it with iLvl 495 and 529 - both iLvl will work without Purification Potions. If you go below 495 you should consider Buff-Food, Flask and a Purification Potion and you should be fine. The Rotation will take care of targeting and your Rotation, you only have to move! For more information please visit the PG Forums. There you can find a detailed explanation with images.</div>
</div>
</div>
</div>
<div class="rotation-class">
<div class="rotation-class-title paladin">paladin</div>
<div class="rotations-spec">
  <div class="rotation-spec-title paladin_holy">holy</div>
<div class="rotation">
<div class="rotation-name">'Default' <i>by PCMD</i> (<a href="http://eu.battle.net/wow/en/tool/talent-calculator#ba!202121" class="talent-url">Talents</a>)</div>
<div class="rotation-description">This is a Raid-Rotation, which will do fine on normal mobs, even while leveling but might not be optimal for PvP. <br /> Modifiers:<br /> &bull; <code>LEFT-SHIFT</code>: Light's Hammer<br /> &bull; <code>LEFT-CTRL</code>: Light of Dawn<br /></div>
</div>
</div>
</div>
<div class="rotation-class">
<div class="rotation-class-title hunter">hunter</div>
<div class="rotations-spec">
  <div class="rotation-spec-title hunter_beastmastery">beastmastery</div>
<div class="rotation">
<div class="rotation-name">'BM Hunter PVE 5.3' <i>by tropic</i></div>
<div class="rotation-description">Features:<br /> &bull; auto misdirect to pet if soloing<br /> &bull; misdirect to "focus" e.g. in party/raid<br /> &bull; mend pet when hp is less than 90%<br /> &bull; interrupt spellcasting with Silencing Shot<br /> &bull; use CDs incl. Lifeblood (herbalism)<br /> &bull; hot-keys for traps<br /></div>
</div>
<div class="rotation">
<div class="rotation-name">'Default PvP' <i>by Unknown</i></div>
<div class="rotation-description">Put DPS trinket in top trinket slot and if not human, put PvP trinket in bottom slot.</div>
</div>
</div>
<div class="rotations-spec">
  <div class="rotation-spec-title hunter_marksmanship">marksmanship</div>
<div class="rotation">
<div class="rotation-name">'Default' <i>by Chiffon, Scribe, jpganis</i></div>
<div class="rotation-description">SimCraft</div>
</div>
</div>
<div class="rotations-spec">
  <div class="rotation-spec-title hunter_survival">survival</div>
<div class="rotation">
<div class="rotation-name">'Default' <i>by tropic</i> (<a href="http://eu.battle.net/wow/en/tool/talent-calculator#Yb!001100!dfgkmM" class="talent-url">Talents</a>)</div>
<div class="rotation-description">Features:<br /> &bull; auto misdirect to pet if soloing, misdirect to "focus" e.g. in party/raid<br /> &bull; Auto use "Healthstone" at 50% hp &bull; mend pet when hp is less than 90%<br /> &bull; interrupt spellcasting with Silencing Shot<br /> &bull; Use CDs: Blows all cooldowns: trinkets, eng. gloves pots (if boss) etc. (manually use "Readiness")<br /> <br /> Trap Keys:<br /> &bull;<code>SHIFT:</code> Explosive Trap<br /> &bull;<code>ALT:</code> Freezing Trap<br /> &bull;<code>CONTROL:</code> Snake Trap<br /> &bull;<code>SHIFT-CONTROL:</code> Ice Trap<br /></div>
</div>
</div>
</div>
<div class="rotation-class">
<div class="rotation-class-title druid">druid</div>
<div class="rotations-spec">
  <div class="rotation-spec-title druid_balance">balance</div>
<div class="rotation">
<div class="rotation-name">'Default' <i>by jpganis</i></div>
<div class="rotation-description">SimCraft<br /> <br /> TODO: Add tab-dotting everything</div>
</div>
</div>
<div class="rotations-spec">
  <div class="rotation-spec-title druid_feral">feral</div>
<div class="rotation">
<div class="rotation-name">'Default PvE' <i>by jpganis</i></div>
<div class="rotation-description">Ty to MEW Feral Sim</div>
</div>
<div class="rotation">
<div class="rotation-name">'Default PvP' <i>by SwollNMember</i> (<a href="http://eu.battle.net/wow/en/tool/talent-calculator#U!20.120!YXQr" class="talent-url">Talents</a>)</div>
<div class="rotation-description">Thanks to jpganis for the original version and attack conditionals.<br /> User Notes:<br /> &bull; Put DPS trinket in top trinket slot and PvP loss of control trinket in bottom slot.<br /> &bull; Hold down shift key to force multitarget attacks.<br /> &bull; Force of Nature is cast when targeting the ground anywhere in the world frame.<br /> &bull; Primary attack conditionals consolidated into functions to provide clarity and reduce clutter.<br /> &bull; Auto-shifts out of roots and returns to cat, bear or aquatic form.<br /> &bull; Casts shred when behind target, otherwise casts mangle.<br /> &bull; When King of the Jungle is active subs ravage for shred and mangle.<br /> &bull; <code>CTRL-SHIFT</code>: Cast Rain of Fire @ Mouse - ignoring the current RoF duration<br /> &bull; <code>CTRL</code>: If target is dead or ghost cast Soulstone, else cast Havoc @ Mouse<br /> &bull; <code>ALT</code>: Stop all casts and only use instants (useful for Dark Animus Interrupting Jolt)<br /> &bull; <code>jps.Interrupts</code>: Casts from target, focus or mouseover will be interrupted (with FelHunter or Observer only!)<br /> &bull; <code>jps.Defensive</code>: Create Healthstone if necessary, cast mortal coil and use ember tap<br /> &bull; <code>jps.UseCDs</code>: Use short CD's - NO Virmen's Bite, NO Doomguard/Terrorguard etc. - those SHOULDN'T be automated!<br /></div>
</div>
</div>
<div class="rotations-spec">
  <div class="rotation-spec-title druid_guardian">guardian</div>
<div class="rotation">
<div class="rotation-name">'Default' <i>by jpganis, Attip, peanutbird</i></div>
<div class="rotation-description">Guardian Rotation</div>
</div>
</div>
<div class="rotations-spec">
  <div class="rotation-spec-title druid_restoration">restoration</div>
<div class="rotation">
<div class="rotation-name">'Legacy Rotation' <i>by Unknown</i></div>
<div class="rotation-description">Makes you Top Healer...until you run out of mana. You have to use Innervate and Tranquility manually!<br /></div>
</div>
<div class="rotation">
<div class="rotation-name">'Advanced Rotation' <i>by Kirk24788</i> (<a href="http://eu.battle.net/wow/en/tool/talent-calculator#UY!002010!gUTSPF" class="talent-url">Talents</a>)</div>
<div class="rotation-description">This is a Raid-Rotation, don't use it for PvP!. It's focus is mana conserve and minimum overheal. You might not end up as top healer but you shouldn't run out of mana. Don't worry, if there is something to heal, it will heal! Use Tranquility manually. <br /> Modifiers:<br /> &bull; <code>SHIFT</code>: Place Wild Mushroom<br /> &bull; <code>CTRL-SHIFT</code>: Cast Wild Mushroom: Bloom<br /></div>
</div>
</div>
</div>
<div class="rotation-class">
<div class="rotation-class-title rogue">rogue</div>
<div class="rotations-spec">
  <div class="rotation-spec-title rogue_combat">combat</div>
<div class="rotation">
<div class="rotation-name">'PVE single target/PVE 2-5 targets/PVE 5+ targets' <i>by jpganis</i> (<a href="http://eu.battle.net/wow/en/tool/talent-calculator#c!201121!R" class="talent-url">Talents</a>)</div>
<div class="rotation-description">Using the same rotation as Noxxic, talents are optional - i usually prefer elusiveness for tier 3 and anticipation for tier 6, if you take elusiveness use Glyph of Feint though.<br /> <br /> Usage info:<br /> &bull;ToT will be cast on focus<br /> &bull;Enable cooldowns to use defensive cooldown along with vanish, preparation, trinkets, and combat spec specific cooldowns (ex: Adrenaline Rush)<br /> <br /> TODO:<br /> &bull;Vanish only cast if shadowstep is off cooldown<br /></div>
</div>
</div>
</div>
<div class="rotation-class">
<div class="rotation-class-title shaman">shaman</div>
<div class="rotations-spec">
  <div class="rotation-spec-title shaman_elemental">elemental</div>
<div class="rotation">
<div class="rotation-name">'Default' <i>by duplicate</i> (<a href="http://eu.battle.net/wow/en/tool/talent-calculator#W!22020." class="talent-url">Talents</a>)</div>
<div class="rotation-description">Updated for MoP</div>
</div>
</div>
<div class="rotations-spec">
  <div class="rotation-spec-title shaman_enhancement">enhancement</div>
<div class="rotation">
<div class="rotation-name">'Default' <i>by Unknown</i> (<a href="http://eu.battle.net/wow/en/tool/talent-calculator#WZ!220210!be" class="talent-url">Talents</a>)</div>
<div class="rotation-description">Simcraft and more<br /> <br /> Usage Info:<br /> &bull; Use CDs for trinkets, Feral Spirit and Fire Elemental Totem<br /> &bull; Use AoE for Magma Totem, Fire Nova and Chain Lightning on Maelstrom Stacks<br /> &bull; Searing and Magma Totem will not override Fire Elemental Totem<br /> <br /> Todo:<br /> &bull; Perhaps implement more survivability for soloing</div>
</div>
</div>
</div>
<div class="rotation-class">
<div class="rotation-class-title death_knight">death knight</div>
<div class="rotations-spec">
  <div class="rotation-spec-title death_knight_frost">frost</div>
<div class="rotation">
<div class="rotation-name">'Frost PVE 5.3' <i>by PCMD</i> (<a href="http://eu.battle.net/wow/en/tool/talent-calculator#d!210011" class="talent-url">Talents</a>)</div>
<div class="rotation-description">This is a Raid-Rotation based on Simcraft results. While Bloodlusting it uses a potion of Mogu Power inside raids and a flask if you got one inside your bags.<br> It switches automatically to Frost presence. Unit's in focus or target are automatically battle-rezzed <br /> Modifiers:<br /> &bull; <code>SHIFT</code>: Casts Death and Decay<br /> &bull; <code>ALT</code>:Places your Anti-Magic Zone<br /> &bull; <code>jps.Interrupts</code>: Casts from target, focus will be interrupted br] &bull; <code>jps.Defensive</code>: uses Death Pact, Death Siphon(if skilled) and Death Strike(be careful this could reduce your dps)<br /></div>
</div>
<div class="rotation">
<div class="rotation-name">'Frost PVP 5.3' <i>by PCMD</i> (<a href="http://eu.battle.net/wow/en/tool/talent-calculator#d!210011" class="talent-url">Talents</a>)</div>
<div class="rotation-description">This is a small PVP Rotation without big changes to the normal but it allows you to choose the presence and it casts Necrotic Strike. <br /> Modifiers:<br /> &bull; <code>SHIFT</code>: Casts Death and Decay<br /></div>
</div>
<div class="rotation">
<div class="rotation-name">'Diseases & Interrupt Rotation 5.3' <i>by PCMD</i> (<a href="http://eu.battle.net/wow/en/tool/talent-calculator#d!210011" class="talent-url">Talents</a>)</div>
<div class="rotation-description">This Rotation only spread's your diseases & interrupt units. The rest you have to do on your own. <br> <i>Attention:</i> <code>jps.Interrupts</code> still has to be active!</div>
</div>
</div>
</div>
<div class="rotation-class">
<div class="rotation-class-title mage">mage</div>
<div class="rotations-spec">
  <div class="rotation-spec-title mage_fire">fire</div>
<div class="rotation">
<div class="rotation-name">'Arcane PVE SingleTarget 5.3/Arcane PVE > 4 Targets 5.3' <i>by jpganis</i></div>
<div class="rotation-description">SimCraft 5.3</div>
</div>
</div>
<div class="rotations-spec">
  <div class="rotation-spec-title mage_frost">frost</div>
<div class="rotation">
<div class="rotation-name">'Frost Mage PvE' <i>by SwollNMember</i></div>
<div class="rotation-description">SimCraft 5.3</div>
</div>
<div class="rotation">
<div class="rotation-name">'Noxxic PvE' <i>by Kirk24788</i></div>
<div class="rotation-description">Based on Noxxic 5.3</div>
</div>
<div class="rotation">
<div class="rotation-name">'Default PvP' <i>by SwollNMember</i></div>
<div class="rotation-description">WoW v5.2 compliant</div>
</div>
</div>
</div>
<div class="rotation-class">
<div class="rotation-class-title monk">monk</div>
<div class="rotations-spec">
  <div class="rotation-spec-title monk_brewmaster">brewmaster</div>
<div class="rotation">
<div class="rotation-name">'Default' <i>by Unknown</i></div>
<div class="rotation-description">Usage info:<br /> &bull; <code>SHIFT</code>: "Dizzying Haze" at mouse position - AoE threat builder - "Hurl a keg of your finest brew"<br /> &bull; <code>CTRL</code>: "Chi Wave" on mouseover friendlies and enemies (disabled for now)<br /></div>
</div>
</div>
<div class="rotations-spec">
  <div class="rotation-spec-title monk_windwalker">windwalker</div>
<div class="rotation">
<div class="rotation-name">'Default' <i>by Unknown</i></div>
<div class="rotation-description">Using the same rotation as SimulationCraft. Tested with a 480 ilvl against a raid target dummy with only self buffs (and ghetto enchants). imulationCraft with these settings gives a DPS of 72k. This script gives a DPS of 62k. So we're 10k off target. This script in LFR easily does between 70-85k single target.</div>
</div>
</div>
</div>
</div>
<div class="section">
<div class="section-title">ToDo's</div>
<div class="todo">
  <div class="todo-file">jpdots.lua</div>
  <ul class="todo-list">
<li class="todo-item">Remove dotTracker.castTable when all Rotations use static tables</li>
  </ul>
</div>
</div>

</body>
</html>